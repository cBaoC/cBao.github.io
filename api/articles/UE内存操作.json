{"title":"UE中内存操作","uid":"62bbf97645975b25a08d1c093027a65e","slug":"UE内存操作","date":"2022-08-04T07:41:08.000Z","updated":"2022-08-04T09:35:57.502Z","comments":true,"path":"api/articles/UE内存操作.json","keywords":null,"cover":"https://cbaoblog.oss-cn-shanghai.aliyuncs.com/UE5LOGO.png","content":"<h1 id=\"分配内存\"><a href=\"#分配内存\" class=\"headerlink\" title=\"分配内存\"></a>分配内存</h1><pre class=\"line-numbers language-cpp\" data-language=\"cpp\"><code class=\"language-cpp\"><span class=\"token comment\">// C</span>\nuint8<span class=\"token operator\">*</span> Ptr_C<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span>uint8<span class=\"token operator\">*</span><span class=\"token punctuation\">)</span><span class=\"token function\">malloc</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">sizeof</span><span class=\"token punctuation\">(</span>uint8<span class=\"token punctuation\">)</span><span class=\"token operator\">*</span><span class=\"token number\">1024</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\n<span class=\"token comment\">// C++</span>\nuint8<span class=\"token operator\">*</span> Ptr_CPlus<span class=\"token operator\">=</span><span class=\"token keyword\">new</span> uint8<span class=\"token punctuation\">[</span><span class=\"token number\">1024</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// UEC++</span>\nuint8<span class=\"token operator\">*</span> Ptr_UnrealCPlus<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span>uint8<span class=\"token operator\">*</span><span class=\"token punctuation\">)</span><span class=\"token class-name\">FMemory</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">Malloc</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">sizeof</span><span class=\"token punctuation\">(</span>uint8<span class=\"token punctuation\">)</span><span class=\"token operator\">*</span><span class=\"token number\">1024</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h1 id=\"重新分配内存\"><a href=\"#重新分配内存\" class=\"headerlink\" title=\"重新分配内存\"></a>重新分配内存</h1><pre class=\"line-numbers language-cpp\" data-language=\"cpp\"><code class=\"language-cpp\"><span class=\"token comment\">// C/C++</span>\nPtr_C<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span>uint8<span class=\"token operator\">*</span><span class=\"token punctuation\">)</span><span class=\"token function\">realloc</span><span class=\"token punctuation\">(</span>Ptr_C<span class=\"token punctuation\">,</span><span class=\"token keyword\">sizeof</span><span class=\"token punctuation\">(</span>uint8<span class=\"token punctuation\">)</span><span class=\"token operator\">*</span><span class=\"token number\">2048</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\n<span class=\"token comment\">// UEC++</span>\n<span class=\"token class-name\">FMemory</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">Realloc</span><span class=\"token punctuation\">(</span>Ptr_UnrealCPlus<span class=\"token punctuation\">,</span><span class=\"token keyword\">sizeof</span><span class=\"token punctuation\">(</span>uint8<span class=\"token punctuation\">)</span><span class=\"token operator\">*</span><span class=\"token number\">2048</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h1 id=\"获得分配的内存大小\"><a href=\"#获得分配的内存大小\" class=\"headerlink\" title=\"获得分配的内存大小\"></a>获得分配的内存大小</h1><pre class=\"line-numbers language-cpp\" data-language=\"cpp\"><code class=\"language-cpp\">int32 i <span class=\"token operator\">=</span> <span class=\"token class-name\">FMemory</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">GetAllocSize</span><span class=\"token punctuation\">(</span>Ptr_UnrealCPlus<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<div class=\"custom-quote danger\">\n<span class=\"custom-quote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M19.76 5.23C15.84 5.23 12 2 12 2C12 2 8.15996 5.23 4.23996 5.23C4.23996 5.23 1.86996 16.99 12 22C22.13 16.99 19.76 5.23 19.76 5.23Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M12 8V13\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M11.99 16H12\"></path>\n</svg>\n</span>\n<p class=\"custom-quote-title\">特别注意</p>\n<p>只能获得 <strong>FMemory::Malloc()</strong> 分配的内存大小，否则会产生崩溃</p>\n</div>\n<h1 id=\"拷贝\"><a href=\"#拷贝\" class=\"headerlink\" title=\"拷贝\"></a>拷贝</h1><pre class=\"line-numbers language-cpp\" data-language=\"cpp\"><code class=\"language-cpp\"><span class=\"token keyword\">char</span> Date1<span class=\"token punctuation\">[</span><span class=\"token number\">1024</span><span class=\"token punctuation\">]</span><span class=\"token operator\">=</span><span class=\"token string\">\"Hello,World\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">char</span> Date2<span class=\"token punctuation\">[</span><span class=\"token number\">1024</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// C/C++</span>\n<span class=\"token function\">memcpy</span><span class=\"token punctuation\">(</span>Date2<span class=\"token punctuation\">,</span>Date1<span class=\"token punctuation\">,</span><span class=\"token function\">strlen</span><span class=\"token punctuation\">(</span>Date1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// UEC++</span>\n<span class=\"token class-name\">FMemory</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">Memcpy</span><span class=\"token punctuation\">(</span>Date2<span class=\"token punctuation\">,</span>Date1<span class=\"token punctuation\">,</span><span class=\"token function\">strlen</span><span class=\"token punctuation\">(</span>Date1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h1 id=\"移动内存\"><a href=\"#移动内存\" class=\"headerlink\" title=\"移动内存\"></a>移动内存</h1><pre class=\"line-numbers language-cpp\" data-language=\"cpp\"><code class=\"language-cpp\"><span class=\"token keyword\">char</span> Date1<span class=\"token punctuation\">[</span><span class=\"token number\">1024</span><span class=\"token punctuation\">]</span><span class=\"token operator\">=</span><span class=\"token string\">\"Hello,World\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">char</span> Date2<span class=\"token punctuation\">[</span><span class=\"token number\">1024</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// C/C++</span>\n<span class=\"token function\">memmove</span><span class=\"token punctuation\">(</span>Date2<span class=\"token punctuation\">,</span>Date1<span class=\"token punctuation\">,</span><span class=\"token function\">strlen</span><span class=\"token punctuation\">(</span>Date1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// UEC++</span>\n<span class=\"token class-name\">FMemory</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">Memmove</span><span class=\"token punctuation\">(</span>Date2<span class=\"token punctuation\">,</span>Date1<span class=\"token punctuation\">,</span><span class=\"token function\">strlen</span><span class=\"token punctuation\">(</span>Date1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h1 id=\"比较\"><a href=\"#比较\" class=\"headerlink\" title=\"比较\"></a>比较</h1><pre class=\"line-numbers language-cpp\" data-language=\"cpp\"><code class=\"language-cpp\"><span class=\"token comment\">// C/C++</span>\n<span class=\"token keyword\">char</span> DateComp<span class=\"token punctuation\">[</span><span class=\"token number\">1024</span><span class=\"token punctuation\">]</span><span class=\"token operator\">=</span><span class=\"token string\">\"cBao2\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">char</span> DateComp_2<span class=\"token punctuation\">[</span><span class=\"token number\">1024</span><span class=\"token punctuation\">]</span><span class=\"token operator\">=</span><span class=\"token string\">\"cBao\"</span><span class=\"token punctuation\">;</span>\nint32 Size<span class=\"token operator\">=</span><span class=\"token function\">memcmp</span><span class=\"token punctuation\">(</span>DateComp<span class=\"token punctuation\">,</span>DateComp_2<span class=\"token punctuation\">,</span><span class=\"token keyword\">sizeof</span><span class=\"token punctuation\">(</span>uint8<span class=\"token punctuation\">)</span><span class=\"token operator\">*</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// UEC++</span>\nint32 Size2 <span class=\"token operator\">=</span> <span class=\"token class-name\">FMemory</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">Memcmp</span><span class=\"token punctuation\">(</span>DateComp<span class=\"token punctuation\">,</span>DateComp_2<span class=\"token punctuation\">,</span><span class=\"token keyword\">sizeof</span><span class=\"token punctuation\">(</span>uint8<span class=\"token punctuation\">)</span><span class=\"token operator\">*</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<div class=\"custom-quote warning\">\n<span class=\"custom-quote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M12 8V13\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M12 15.99V16.01\"></path>\n</svg>\n</span>\n<p class=\"custom-quote-title\">注意</p>\n<p>当 DateComp&lt;DateComp_2 时返回值&lt;0</p>\n<p>当 DateComp=DateComp_2 时返回值=0</p>\n<p>当 DateComp&gt;DateComp_2 时返回值&gt;0</p>\n</p>\n</div>\n<h1 id=\"交换\"><a href=\"#交换\" class=\"headerlink\" title=\"交换\"></a>交换</h1><pre class=\"line-numbers language-cpp\" data-language=\"cpp\"><code class=\"language-cpp\"><span class=\"token keyword\">char</span> DateComp<span class=\"token punctuation\">[</span><span class=\"token number\">1024</span><span class=\"token punctuation\">]</span><span class=\"token operator\">=</span><span class=\"token string\">\"cBao2\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">char</span> DateComp_2<span class=\"token punctuation\">[</span><span class=\"token number\">1024</span><span class=\"token punctuation\">]</span><span class=\"token operator\">=</span><span class=\"token string\">\"cBao\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token class-name\">FMemory</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">Memswap</span><span class=\"token punctuation\">(</span>DateComp<span class=\"token punctuation\">,</span>DateComp_2<span class=\"token punctuation\">,</span><span class=\"token keyword\">sizeof</span><span class=\"token punctuation\">(</span>uint8<span class=\"token punctuation\">)</span><span class=\"token operator\">*</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<div class=\"custom-quote warning\">\n<span class=\"custom-quote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M12 8V13\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M12 15.99V16.01\"></path>\n</svg>\n</span>\n<p class=\"custom-quote-title\">注意</p>\n<p>仅UEC++中存在该API</p>\n</p>\n</div>\n<h1 id=\"初始化方式\"><a href=\"#初始化方式\" class=\"headerlink\" title=\"初始化方式\"></a>初始化方式</h1><pre class=\"line-numbers language-cpp\" data-language=\"cpp\"><code class=\"language-cpp\"><span class=\"token comment\">//原生C</span>\n<span class=\"token function\">memset</span><span class=\"token punctuation\">(</span>Ptr_C<span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">sizeof</span><span class=\"token punctuation\">(</span>uint8<span class=\"token punctuation\">)</span><span class=\"token operator\">*</span><span class=\"token number\">1024</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">memset</span><span class=\"token punctuation\">(</span>Ptr_CPlus<span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">sizeof</span><span class=\"token punctuation\">(</span>uint8<span class=\"token punctuation\">)</span><span class=\"token operator\">*</span><span class=\"token number\">1024</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">//C++中</span>\nuint8<span class=\"token operator\">*</span> Ptr_CPlus2<span class=\"token operator\">=</span><span class=\"token keyword\">new</span> uint8<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">23</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n\t\n<span class=\"token comment\">//UEC++</span>\n<span class=\"token function\">ZeroMemory</span><span class=\"token punctuation\">(</span>Ptr_C<span class=\"token punctuation\">,</span><span class=\"token keyword\">sizeof</span><span class=\"token punctuation\">(</span>uint8<span class=\"token punctuation\">)</span><span class=\"token operator\">*</span><span class=\"token number\">1024</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">ZeroMemory</span><span class=\"token punctuation\">(</span>Ptr_CPlus<span class=\"token punctuation\">,</span><span class=\"token keyword\">sizeof</span><span class=\"token punctuation\">(</span>uint8<span class=\"token punctuation\">)</span><span class=\"token operator\">*</span><span class=\"token number\">1024</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token class-name\">FMemory</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">Memset</span><span class=\"token punctuation\">(</span>Ptr_UnrealCPlus<span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">sizeof</span><span class=\"token punctuation\">(</span>uint8<span class=\"token punctuation\">)</span><span class=\"token operator\">*</span><span class=\"token number\">1024</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token class-name\">FMemory</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">Memzero</span><span class=\"token punctuation\">(</span>Ptr_UnrealCPlus<span class=\"token punctuation\">,</span><span class=\"token keyword\">sizeof</span><span class=\"token punctuation\">(</span>uint8<span class=\"token punctuation\">)</span><span class=\"token operator\">*</span><span class=\"token number\">1024</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">//在申请时就进行初始化</span>\nuint8<span class=\"token operator\">*</span> Ptr_UnrealC<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span>uint8<span class=\"token operator\">*</span><span class=\"token punctuation\">)</span><span class=\"token class-name\">FMemory</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">MallocZeroed</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">sizeof</span><span class=\"token punctuation\">(</span>uint8<span class=\"token punctuation\">)</span><span class=\"token operator\">*</span><span class=\"token number\">1024</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h1 id=\"清除\"><a href=\"#清除\" class=\"headerlink\" title=\"清除\"></a>清除</h1><pre class=\"line-numbers language-cpp\" data-language=\"cpp\"><code class=\"language-cpp\"><span class=\"token comment\">//C</span>\n<span class=\"token function\">free</span><span class=\"token punctuation\">(</span>Ptr_C<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\n<span class=\"token comment\">//C++中</span>\n<span class=\"token keyword\">delete</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span>Ptr_CPlus<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">delete</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span>Ptr_CPlus2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">//UEC++中</span>\n<span class=\"token class-name\">FMemory</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">Free</span><span class=\"token punctuation\">(</span>Ptr_UnrealCPlus<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<div class=\"custom-quote danger\">\n<span class=\"custom-quote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M19.76 5.23C15.84 5.23 12 2 12 2C12 2 8.15996 5.23 4.23996 5.23C4.23996 5.23 1.86996 16.99 12 22C22.13 16.99 19.76 5.23 19.76 5.23Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M12 8V13\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M11.99 16H12\"></path>\n</svg>\n</span>\n<p class=\"custom-quote-title\">特别注意</p>\n<p><strong>FMemory::Free()</strong> 容易造成引擎崩溃</p>\n\n</div>\n","text":"分配内存// C uint8* Ptr_C=(uint8*)malloc(sizeof(uint8)*1024); // C++ uint8* Ptr_CPlus=new uint8[1024]; // UEC++ uint8* Ptr_UnrealCPlus=(uint8*)F...","link":"","photos":[],"count_time":{"symbolsCount":"1.8k","symbolsTime":"2 mins."},"categories":[{"name":"UnrealEngine","slug":"UnrealEngine","count":5,"path":"api/categories/UnrealEngine.json"}],"tags":[{"name":"内存操作","slug":"内存操作","count":1,"path":"api/tags/内存操作.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%88%86%E9%85%8D%E5%86%85%E5%AD%98\"><span class=\"toc-text\">分配内存</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E9%87%8D%E6%96%B0%E5%88%86%E9%85%8D%E5%86%85%E5%AD%98\"><span class=\"toc-text\">重新分配内存</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E8%8E%B7%E5%BE%97%E5%88%86%E9%85%8D%E7%9A%84%E5%86%85%E5%AD%98%E5%A4%A7%E5%B0%8F\"><span class=\"toc-text\">获得分配的内存大小</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E6%8B%B7%E8%B4%9D\"><span class=\"toc-text\">拷贝</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E7%A7%BB%E5%8A%A8%E5%86%85%E5%AD%98\"><span class=\"toc-text\">移动内存</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E6%AF%94%E8%BE%83\"><span class=\"toc-text\">比较</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E4%BA%A4%E6%8D%A2\"><span class=\"toc-text\">交换</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%88%9D%E5%A7%8B%E5%8C%96%E6%96%B9%E5%BC%8F\"><span class=\"toc-text\">初始化方式</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E6%B8%85%E9%99%A4\"><span class=\"toc-text\">清除</span></a></li></ol>","author":{"name":"cBao","slug":"blog-author","avatar":"https://cbaoblog.oss-cn-shanghai.aliyuncs.com/HeadPortrait.jpg","link":"/","description":"但求日积月累，收获于细微。<br /><b>虚幻引擎开发</b>","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"UE中的文件API","uid":"fa2dad943cb3925ed47cb72cd3308d02","slug":"UE中的文件操作","date":"2022-08-05T05:58:47.000Z","updated":"2022-08-05T06:12:21.008Z","comments":true,"path":"api/articles/UE中的文件操作.json","keywords":null,"cover":"https://cbaoblog.oss-cn-shanghai.aliyuncs.com/UE5LOGO.png","text":"检查文件夹是否存在//文件路径 FString Dir=FPaths::ProjectDir()/TEXT(\"cBao\"); //检查文件是否存在 IFileManager::Get().DirectoryExists(*Dir) 创建文件夹IFileManager::Get()...","link":"","photos":[],"count_time":{"symbolsCount":"2.2k","symbolsTime":"2 mins."},"categories":[{"name":"UnrealEngine","slug":"UnrealEngine","count":5,"path":"api/categories/UnrealEngine.json"}],"tags":[{"name":"文件操作","slug":"文件操作","count":1,"path":"api/tags/文件操作.json"}],"author":{"name":"cBao","slug":"blog-author","avatar":"https://cbaoblog.oss-cn-shanghai.aliyuncs.com/HeadPortrait.jpg","link":"/","description":"但求日积月累，收获于细微。<br /><b>虚幻引擎开发</b>","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"Json","uid":"ae911ea8c615446cd5e6fd02771c3f77","slug":"Json_UnrealEngine","date":"2022-08-02T06:17:49.000Z","updated":"2022-08-02T14:01:10.895Z","comments":true,"path":"api/articles/Json_UnrealEngine.json","keywords":null,"cover":"https://cbaoblog.oss-cn-shanghai.aliyuncs.com/Json_LOGO.png","text":"JSON 语法规则 数据在键/值对中 数据由逗号 , 分隔 使用斜杆来转义 \\ 字符 大括号 {} 保存对象 中括号 [] 保存数组，数组可以包含多个对象 JSON 键值对JSON 数据的书写格式是： \"name\" : \"cBao\" JSON 值可以是 数字（整数或浮点数） \"a...","link":"","photos":[],"count_time":{"symbolsCount":"4.5k","symbolsTime":"4 mins."},"categories":[{"name":"Json","slug":"Json","count":1,"path":"api/categories/Json.json"}],"tags":[{"name":"Json","slug":"Json","count":1,"path":"api/tags/Json.json"}],"author":{"name":"cBao","slug":"blog-author","avatar":"https://cbaoblog.oss-cn-shanghai.aliyuncs.com/HeadPortrait.jpg","link":"/","description":"但求日积月累，收获于细微。<br /><b>虚幻引擎开发</b>","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}